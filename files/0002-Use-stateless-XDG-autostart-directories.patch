From 61bb0f7d411cae25efe5e0eed986c2c40940c180 Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@solus-project.com>
Date: Tue, 10 Oct 2017 02:25:24 +0100
Subject: [PATCH 2/2] Use stateless XDG autostart directories

Signed-off-by: Ikey Doherty <ikey@solus-project.com>
---
 src/miners/apps/meson.build     | 2 +-
 src/miners/fs/meson.build       | 2 +-
 src/miners/rss/meson.build      | 2 +-
 src/tracker-extract/meson.build | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/miners/apps/meson.build b/src/miners/apps/meson.build
index 1ec46d5..a9a5759 100644
--- a/src/miners/apps/meson.build
+++ b/src/miners/apps/meson.build
@@ -33,7 +33,7 @@ desktop_file = custom_target('tracker-miner-apps-desktop-file',
     output: 'tracker-miner-apps.desktop',
     command: ['intltool-merge', '--quiet', '--desktop-style', '--utf8', join_paths(meson.source_root(), 'po'), '@INPUT@', '@OUTPUT@'],
     install: true,
-    install_dir: join_paths(get_option('sysconfdir'), 'xdg/autostart'))
+    install_dir: join_paths(get_option('datadir'), 'xdg/autostart'))
 
 if install_systemd_user_services
   configure_file(
diff --git a/src/miners/fs/meson.build b/src/miners/fs/meson.build
index 5d74908..ddf787b 100644
--- a/src/miners/fs/meson.build
+++ b/src/miners/fs/meson.build
@@ -56,7 +56,7 @@ desktop_file = custom_target('tracker-miner-fs-desktop-file',
     output: 'tracker-miner-fs.desktop',
     command: ['intltool-merge', '--quiet', '--desktop-style', '--utf8', join_paths(meson.source_root(), 'po'), '@INPUT@', '@OUTPUT@'],
     install: true,
-    install_dir: join_paths(get_option('sysconfdir'), 'xdg/autostart'))
+    install_dir: join_paths(get_option('datadir'), 'xdg/autostart'))
 
 custom_target('tracker-miner-fs-settings-schema',
     input: 'org.freedesktop.Tracker.Miner.Files.gschema.xml.in',
diff --git a/src/miners/rss/meson.build b/src/miners/rss/meson.build
index 6d7e1ac..3537df2 100644
--- a/src/miners/rss/meson.build
+++ b/src/miners/rss/meson.build
@@ -33,7 +33,7 @@ desktop_file = custom_target('tracker-miner-rss-desktop-file',
     output: 'tracker-miner-rss.desktop',
     command: ['intltool-merge', '--quiet', '--desktop-style', '--utf8', join_paths(meson.source_root(), 'po'), '@INPUT@', '@OUTPUT@'],
     install: true,
-    install_dir: join_paths(get_option('sysconfdir'), 'xdg/autostart'))
+    install_dir: join_paths(get_option('datadir'), 'xdg/autostart'))
 
 if install_systemd_user_services
   configure_file(
diff --git a/src/tracker-extract/meson.build b/src/tracker-extract/meson.build
index 7defffb..2ed5842 100644
--- a/src/tracker-extract/meson.build
+++ b/src/tracker-extract/meson.build
@@ -184,7 +184,7 @@ desktop_file = custom_target('tracker-extract-desktop-file',
   output: 'tracker-extract.desktop',
   command: ['intltool-merge', '--quiet', '--desktop-style', '--utf8', join_paths(meson.source_root(), 'po'), '@INPUT@', '@OUTPUT@'],
   install: true,
-  install_dir: join_paths(get_option('sysconfdir'), 'xdg/autostart'))
+  install_dir: join_paths(get_option('datadir'), 'xdg/autostart'))
 
 custom_target('tracker-extract-settings-schema',
   input: 'org.freedesktop.Tracker.Extract.gschema.xml.in',
-- 
2.14.2

